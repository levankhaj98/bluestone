{"remainingRequest":"/home/levankhai/Downloads/test/node_modules/babel-loader/lib/index.js!/home/levankhai/Downloads/test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/levankhai/Downloads/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/levankhai/Downloads/test/src/components/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/levankhai/Downloads/test/src/components/Cart.vue","mtime":1611111168419},{"path":"/home/levankhai/Downloads/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/levankhai/Downloads/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/levankhai/Downloads/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/levankhai/Downloads/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBidXMgfSBmcm9tICIuLi9tYWluLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbInNpZ24iXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZHVjdHM6IFtdLAogICAgICB0b3RhbE9yZGVyOiAwLAogICAgICB0b3RhbENhcnQ6IDAsCiAgICAgIGRpc2NvdW50OiAwCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgYnVzLiRvbignYWRkVG9DYXJ0JywgZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgaWYgKF90aGlzLnByb2R1Y3RzLmluZGV4T2YocHJvZHVjdCkgIT09IC0xKSB7CiAgICAgICAgd2luZG93LmFsZXJ0KCdzYW4gcGhhbSBuYXkgZGEgdG9uIHRhaScpOwogICAgICB9IGVsc2UgewogICAgICAgIF90aGlzLnByb2R1Y3RzLnB1c2gocHJvZHVjdCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgcmVtb3ZlUHJvZHVjdDogZnVuY3Rpb24gcmVtb3ZlUHJvZHVjdChwcm9kdWN0KSB7CiAgICAgIHZhciBwb3NQcm9kdWN0ID0gdGhpcy5wcm9kdWN0cy5pbmRleE9mKHByb2R1Y3QpOwoKICAgICAgaWYgKHBvc1Byb2R1Y3QgIT09IDEpIHsKICAgICAgICB0aGlzLnByb2R1Y3RzLnNwbGljZShwb3NQcm9kdWN0LCAxKTsKICAgICAgfQogICAgfSwKICAgIG9uQ2FsY3VsYXRlOiBmdW5jdGlvbiBvbkNhbGN1bGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnByb2R1Y3RzLmZvckVhY2goZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICBfdGhpczIudG90YWxPcmRlciA9IHByb2R1Y3QucHJpY2UgKiBwcm9kdWN0LnF1YW50aXR5OwogICAgICB9KTsKCiAgICAgIGlmICh0aGlzLnRvdGFsT3JkZXIgPiA5MDAwMDAwKSB7CiAgICAgICAgdGhpcy5kaXNjb3VudCA9IDEwOwogICAgICB9CgogICAgICBpZiAodGhpcy50b3RhbE9yZGVyID4gMzAwMDAwMDApIHsKICAgICAgICB0aGlzLmRpc2NvdW50ID0gMTU7CiAgICAgIH0KCiAgICAgIHRoaXMudG90YWxPcmRlciA9ICgxMDAgLSB0aGlzLmRpc2NvdW50KSAqIHRoaXMudG90YWxPcmRlciAvIDEwMDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBwcm9kdWN0czogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMub25DYWxjdWxhdGUoKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,SAAA,GAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CACA,MADA,CADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,SAAA,EAAA,CAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA,MAAA,CAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,yBAAA;AACA,OAFA,MAGA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA,KAPA;AAQA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,OADA,EACA;AACA,UAAA,UAAA,GAAA,KAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA;;AACA,UAAA,UAAA,KAAA,CAAA,EAAA;AACA,aAAA,QAAA,CAAA,MAAA,CAAA,UAAA,EAAA,CAAA;AACA;AACA,KANA;AAOA,IAAA,WAPA,yBAOA;AAAA;;AAEA,WAAA,QAAA,CAAA,OAAA,CAAA,UAAA,OAAA,EAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,OAAA,CAAA,KAAA,GAAA,OAAA,CAAA,QAAA;AACA,OAFA;;AAIA,UAAA,KAAA,UAAA,GAAA,OAAA,EAAA;AACA,aAAA,QAAA,GAAA,EAAA;AACA;;AACA,UAAA,KAAA,UAAA,GAAA,QAAA,EAAA;AACA,aAAA,QAAA,GAAA,EAAA;AACA;;AAEA,WAAA,UAAA,GAAA,CAAA,MAAA,KAAA,QAAA,IAAA,KAAA,UAAA,GAAA,GAAA;AACA;AArBA,GAtBA;AA6CA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,OADA,qBACA;AACA,aAAA,WAAA;AACA,OAHA;AAIA,MAAA,IAAA,EAAA,IAJA;AAKA,MAAA,SAAA,EAAA;AALA;AADA;AA7CA,CAAA","sourcesContent":["<template>\n  <div class=\"cart-product\">\n    <h3>gio hang cua ban</h3>\n    <table>\n      <tr>\n        <th>ten san pham</th>\n        <th>gia</th>\n        <th>so luong</th>\n        <th></th>\n      </tr>\n      <tr v-show=\"products.length == 0\">\n        <td class=\"not-product\">Ban chua co san pham nao trong gio hang</td>\n      </tr>\n      <tr v-for=\"product in products\" :key=\"product.id\">\n        <td>{{product.name}}</td>\n        <td>{{product.price | formatMoney(sign)}}</td>\n        <td><input type=\"number\" name=\"\" v-model=\"product.quantity\"></td>\n        <td>\n          <button @click=\"removeProduct(product)\">Xoa san pham</button>\n        </td>\n      </tr>\n      <tr v-show=\"products.length > 0\">\n        <td>tong gia tri don hang: {{ totalOrder | formatMoney(sign) }}</td>\n      </tr>\n      <tr v-show=\"products.length > 0 && discount > 0\">\n          <td>Giảm giá sản phẩm: {{discount}}%</td>\n      </tr>\n      <tr v-show=\"products.length > 0\">\n        <td>tong gia tri don hang phai tra: {{totalCart | formatMoney(sign)}} - \n        ({{Math.round(totalCart / 23295 * 100) / 100 }} USD)</td>\n      </tr>\n    </table>\n  </div>\n</template>\n<script>\nimport { bus } from \"../main.js\";\nexport default {\n  props:[\n    \"sign\"\n  ],\n  data(){\n    return{\n      products: [],\n      totalOrder: 0,\n      totalCart: 0,\n      discount: 0\n    }\n  },\n  mounted() {\n    bus.$on('addToCart', (product) => {\n      if (this.products.indexOf(product) !== -1) {\n        window.alert('san pham nay da ton tai');\n      }\n      else{\n        this.products.push(product);\n      }\n    })\n  },\n  methods:{\n    removeProduct(product){\n      var posProduct = this.products.indexOf(product);\n      if (posProduct !== 1) {\n        this.products.splice(posProduct,1)\n      }\n    },\n    onCalculate(){\n    \n      this.products.forEach(product => {\n        this.totalOrder = (product.price * product.quantity)\n      })\n\n      if(this.totalOrder > 9000000){\n          this.discount = 10;\n      }\n      if(this.totalOrder > 30000000){\n          this.discount = 15;\n      }\n\n      this.totalOrder = (100 - this.discount) * this.totalOrder / 100;\n    }\n  },\n  watch: {\n    products: {\n      handler(){\n        this.onCalculate();\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n}\n</script>\n<style scoped>\n  .cart-product {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-top: 60px;\n}\n.cart-product h3 {\n    text-align: center;\n    text-transform: uppercase;\n    padding-bottom: 25px;\n}\ntable {\n  font-family: arial, sans-serif;\n  border-collapse: collapse;\n  width: 80%;\n}\n\ntd, th {\n  border: 1px solid #333;\n  text-align: left;\n  padding: 8px;\n}\n.not-product {\n    color: #ff0202;\n}\n</style>"],"sourceRoot":"src/components"}]}