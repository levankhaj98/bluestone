{"remainingRequest":"/home/levankhai/Downloads/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/levankhai/Downloads/test/src/components/CardForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/levankhai/Downloads/test/src/components/CardForm.vue","mtime":1611152903468},{"path":"/home/levankhai/Downloads/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/levankhai/Downloads/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/levankhai/Downloads/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/levankhai/Downloads/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDYXJkIGZyb20gJ0AvY29tcG9uZW50cy9DYXJkJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NhcmRGb3JtJywKICBkaXJlY3RpdmVzOiB7CiAgICAnbnVtYmVyLW9ubHknOiB7CiAgICAgIGJpbmQgKGVsKSB7CiAgICAgICAgZnVuY3Rpb24gY2hlY2tWYWx1ZSAoZXZlbnQpIHsKICAgICAgICAgIGV2ZW50LnRhcmdldC52YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpCiAgICAgICAgICBpZiAoZXZlbnQuY2hhckNvZGUgPj0gNDggJiYgZXZlbnQuY2hhckNvZGUgPD0gNTcpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgIH0KICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICB9CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBjaGVja1ZhbHVlKQogICAgICB9CiAgICB9LAogICAgJ2xldHRlci1vbmx5JzogewogICAgICBiaW5kIChlbCkgewogICAgICAgIGZ1bmN0aW9uIGNoZWNrVmFsdWUgKGV2ZW50KSB7CiAgICAgICAgICBpZiAoZXZlbnQuY2hhckNvZGUgPj0gNDggJiYgZXZlbnQuY2hhckNvZGUgPD0gNTcpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBjaGVja1ZhbHVlKQogICAgICB9CiAgICB9CiAgfSwKICBwcm9wczogewogICAgZm9ybURhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNhcmROYW1lOiAnJywKICAgICAgICAgIGNhcmROdW1iZXI6ICcnLAogICAgICAgICAgY2FyZE51bWJlck5vdE1hc2s6ICcnLAogICAgICAgICAgY2FyZE1vbnRoOiAnJywKICAgICAgICAgIGNhcmRZZWFyOiAnJywKICAgICAgICAgIGNhcmRDdnY6ICcnCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYmFja2dyb3VuZEltYWdlOiBbU3RyaW5nLCBPYmplY3RdLAogICAgcmFuZG9tQmFja2dyb3VuZHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQ2FyZAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBmaWVsZHM6IHsKICAgICAgICBjYXJkTnVtYmVyOiAndi1jYXJkLW51bWJlcicsCiAgICAgICAgY2FyZE5hbWU6ICd2LWNhcmQtbmFtZScsCiAgICAgICAgY2FyZE1vbnRoOiAndi1jYXJkLW1vbnRoJywKICAgICAgICBjYXJkWWVhcjogJ3YtY2FyZC15ZWFyJywKICAgICAgICBjYXJkQ3Z2OiAndi1jYXJkLWN2dicKICAgICAgfSwKICAgICAgbWluQ2FyZFllYXI6IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwKICAgICAgaXNDYXJkTnVtYmVyTWFza2VkOiB0cnVlLAogICAgICBtYWluQ2FyZE51bWJlcjogdGhpcy5jYXJkTnVtYmVyLAogICAgICBjYXJkTnVtYmVyTWF4TGVuZ3RoOiAxOQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1pbkNhcmRNb250aCAoKSB7CiAgICAgIGlmICh0aGlzLmZvcm1EYXRhLmNhcmRZZWFyID09PSB0aGlzLm1pbkNhcmRZZWFyKSByZXR1cm4gbmV3IERhdGUoKS5nZXRNb250aCgpICsgMQogICAgICByZXR1cm4gMQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGNhcmRZZWFyICgpIHsKICAgICAgaWYgKHRoaXMuZm9ybURhdGEuY2FyZE1vbnRoIDwgdGhpcy5taW5DYXJkTW9udGgpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmNhcmRNb250aCA9ICcnCiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5tYXNrQ2FyZE51bWJlcigpCiAgfSwKICBtZXRob2RzOiB7CiAgICBnZW5lcmF0ZU1vbnRoVmFsdWUgKG4pIHsKICAgICAgcmV0dXJuIG4gPCAxMCA/IGAwJHtufWAgOiBuCiAgICB9LAogICAgY2hhbmdlTmFtZSAoZSkgewogICAgICB0aGlzLmZvcm1EYXRhLmNhcmROYW1lID0gZS50YXJnZXQudmFsdWUKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQtY2FyZC1uYW1lJywgdGhpcy5mb3JtRGF0YS5jYXJkTmFtZSkKICAgIH0sCiAgICBjaGFuZ2VOdW1iZXIgKGUpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyID0gZS50YXJnZXQudmFsdWUKICAgICAgbGV0IHZhbHVlID0gdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyLnJlcGxhY2UoL1xEL2csICcnKQogICAgICAvLyBhbWVyaWNhbiBleHByZXNzLCAxNSBkaWdpdHMKICAgICAgaWYgKCgvXjNbNDddXGR7MCwxM30kLykudGVzdCh2YWx1ZSkpIHsKICAgICAgICB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXIgPSB2YWx1ZS5yZXBsYWNlKC8oXGR7NH0pLywgJyQxICcpLnJlcGxhY2UoLyhcZHs0fSkgKFxkezZ9KS8sICckMSAkMiAnKQogICAgICAgIHRoaXMuY2FyZE51bWJlck1heExlbmd0aCA9IDE3CiAgICAgIH0gZWxzZSBpZiAoKC9eMyg/OjBbMC01XXxbNjhdXGQpXGR7MCwxMX0kLykudGVzdCh2YWx1ZSkpIHsgLy8gZGluZXIncyBjbHViLCAxNCBkaWdpdHMKICAgICAgICB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXIgPSB2YWx1ZS5yZXBsYWNlKC8oXGR7NH0pLywgJyQxICcpLnJlcGxhY2UoLyhcZHs0fSkgKFxkezZ9KS8sICckMSAkMiAnKQogICAgICAgIHRoaXMuY2FyZE51bWJlck1heExlbmd0aCA9IDE2CiAgICAgIH0gZWxzZSBpZiAoKC9eXGR7MCwxNn0kLykudGVzdCh2YWx1ZSkpIHsgLy8gcmVndWxhciBjYyBudW1iZXIsIDE2IGRpZ2l0cwogICAgICAgIHRoaXMuZm9ybURhdGEuY2FyZE51bWJlciA9IHZhbHVlLnJlcGxhY2UoLyhcZHs0fSkvLCAnJDEgJykucmVwbGFjZSgvKFxkezR9KSAoXGR7NH0pLywgJyQxICQyICcpLnJlcGxhY2UoLyhcZHs0fSkgKFxkezR9KSAoXGR7NH0pLywgJyQxICQyICQzICcpCiAgICAgICAgdGhpcy5jYXJkTnVtYmVyTWF4TGVuZ3RoID0gMTkKICAgICAgfQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxCiAgICAgIGlmIChlLmlucHV0VHlwZSA9PSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJykgewogICAgICAgIGxldCBsYXN0Q2hhciA9IHRoaXMuZm9ybURhdGEuY2FyZE51bWJlci5zdWJzdHJpbmcodGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyLmxlbmd0aCwgdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyLmxlbmd0aCAtIDEpCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcQogICAgICAgIGlmIChsYXN0Q2hhciA9PSAnICcpIHsgdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyID0gdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyLnN1YnN0cmluZygwLCB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXIubGVuZ3RoIC0gMSkgfQogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0LWNhcmQtbnVtYmVyJywgdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyKQogICAgfSwKICAgIGNoYW5nZU1vbnRoICgpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQtY2FyZC1tb250aCcsIHRoaXMuZm9ybURhdGEuY2FyZE1vbnRoKQogICAgfSwKICAgIGNoYW5nZVllYXIgKCkgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dC1jYXJkLXllYXInLCB0aGlzLmZvcm1EYXRhLmNhcmRZZWFyKQogICAgfSwKICAgIGNoYW5nZUN2diAoZSkgewogICAgICB0aGlzLmZvcm1EYXRhLmNhcmRDdnYgPSBlLnRhcmdldC52YWx1ZQogICAgICB0aGlzLiRlbWl0KCdpbnB1dC1jYXJkLWN2dicsIHRoaXMuZm9ybURhdGEuY2FyZEN2dikKICAgIH0sCiAgICBpbnZhaWxkQ2FyZCAoKSB7CiAgICAgIGxldCBudW1iZXIgPSB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXJOb3RNYXNrLnJlcGxhY2UoLyAvZywgJycpCiAgICAgIHZhciBzdW0gPSAwCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGludFZhbCA9IHBhcnNlSW50KG51bWJlci5zdWJzdHIoaSwgMSkpCiAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7CiAgICAgICAgICBpbnRWYWwgKj0gMgogICAgICAgICAgaWYgKGludFZhbCA+IDkpIHsKICAgICAgICAgICAgaW50VmFsID0gMSArIChpbnRWYWwgJSAxMCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3VtICs9IGludFZhbAogICAgICB9CiAgICAgIGlmIChzdW0gJSAxMCAhPT0gMCkgewogICAgICAgIGFsZXJ0KHRoaXMuJHQoJ2NhcmRGb3JtLmludmFsaWRDYXJkTnVtYmVyJykpCiAgICAgIH0KICAgIH0sCiAgICBibHVyQ2FyZE51bWJlciAoKSB7CiAgICAgIGlmICh0aGlzLmlzQ2FyZE51bWJlck1hc2tlZCkgewogICAgICAgIHRoaXMubWFza0NhcmROdW1iZXIoKQogICAgICB9CiAgICB9LAogICAgbWFza0NhcmROdW1iZXIgKCkgewogICAgICB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXJOb3RNYXNrID0gdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyCiAgICAgIHRoaXMubWFpbkNhcmROdW1iZXIgPSB0aGlzLmZvcm1EYXRhLmNhcmROdW1iZXIKICAgICAgbGV0IGFyciA9IHRoaXMuZm9ybURhdGEuY2FyZE51bWJlci5zcGxpdCgnJykKICAgICAgYXJyLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7CiAgICAgICAgaWYgKGluZGV4ID4gNCAmJiBpbmRleCA8IDE0ICYmIGVsZW1lbnQudHJpbSgpICE9PSAnJykgewogICAgICAgICAgYXJyW2luZGV4XSA9ICcqJwogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5mb3JtRGF0YS5jYXJkTnVtYmVyID0gYXJyLmpvaW4oJycpCiAgICB9LAogICAgdW5NYXNrQ2FyZE51bWJlciAoKSB7CiAgICAgIHRoaXMuZm9ybURhdGEuY2FyZE51bWJlciA9IHRoaXMubWFpbkNhcmROdW1iZXIKICAgIH0sCiAgICBmb2N1c0NhcmROdW1iZXIgKCkgewogICAgICB0aGlzLnVuTWFza0NhcmROdW1iZXIoKQogICAgfSwKICAgIHRvZ2dsZU1hc2sgKCkgewogICAgICB0aGlzLmlzQ2FyZE51bWJlck1hc2tlZCA9ICF0aGlzLmlzQ2FyZE51bWJlck1hc2tlZAogICAgICBpZiAodGhpcy5pc0NhcmROdW1iZXJNYXNrZWQpIHsKICAgICAgICB0aGlzLm1hc2tDYXJkTnVtYmVyKCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnVuTWFza0NhcmROdW1iZXIoKQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["CardForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CardForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"card-form\">\n    <div class=\"card-list\">\n      <Card\n        :fields=\"fields\"\n        :labels=\"formData\"\n        :isCardNumberMasked=\"isCardNumberMasked\"\n        :randomBackgrounds=\"randomBackgrounds\"\n        :backgroundImage=\"backgroundImage\"\n      />\n    </div>\n    <div class=\"card-form__inner\">\n      <div class=\"card-input\">\n        <label for=\"cardNumber\" class=\"card-input__label\">{{ $t('cardForm.cardNumber') }}</label>\n        <input\n          type=\"tel\"\n          :id=\"fields.cardNumber\"\n          @input=\"changeNumber\"\n          @focus=\"focusCardNumber\"\n          @blur=\"blurCardNumber\"\n          class=\"card-input__input\"\n          :value=\"formData.cardNumber\"\n          :maxlength=\"cardNumberMaxLength\"\n          data-card-field\n          autocomplete=\"off\"\n        />\n        <button\n          class=\"card-input__eye\"\n          :class=\"{ '-active' : !isCardNumberMasked }\"\n          title=\"Show/Hide card number\"\n          tabindex=\"-1\"\n          :disabled=\"formData.cardNumber === ''\"\n          @click=\"toggleMask\"\n        ></button>\n      </div>\n      <div class=\"card-input\">\n        <label for=\"cardName\" class=\"card-input__label\">{{ $t('cardForm.cardName') }}</label>\n        <input\n          type=\"text\"\n          :id=\"fields.cardName\"\n          v-letter-only\n          @input=\"changeName\"\n          class=\"card-input__input\"\n          :value=\"formData.cardName\"\n          data-card-field\n          autocomplete=\"off\"\n        />\n      </div>\n      <div class=\"card-form__row\">\n        <div class=\"card-form__col\">\n          <div class=\"card-form__group\">\n            <label for=\"cardMonth\" class=\"card-input__label\">{{ $t('cardForm.expirationDate') }}</label>\n            <select\n              class=\"card-input__input -select\"\n              :id=\"fields.cardMonth\"\n              v-model=\"formData.cardMonth\"\n              @change=\"changeMonth\"\n              data-card-field\n            >\n              <option value disabled selected>{{ $t('cardForm.month') }}</option>\n              <option\n                v-bind:value=\"n < 10 ? '0' + n : n\"\n                v-for=\"n in 12\"\n                v-bind:disabled=\"n < minCardMonth\"\n                v-bind:key=\"n\"\n              >{{generateMonthValue(n)}}</option>\n            </select>\n            <select\n              class=\"card-input__input -select\"\n              :id=\"fields.cardYear\"\n              v-model=\"formData.cardYear\"\n              @change=\"changeYear\"\n              data-card-field\n            >\n              <option value disabled selected>{{ $t('cardForm.year') }}</option>\n              <option\n                v-bind:value=\"$index + minCardYear\"\n                v-for=\"(n, $index) in 12\"\n                v-bind:key=\"n\"\n              >{{$index + minCardYear}}</option>\n            </select>\n          </div>\n        </div>\n        <div class=\"card-form__col -cvv\">\n          <div class=\"card-input\">\n            <label for=\"cardCvv\" class=\"card-input__label\">{{ $t('cardForm.CVV') }}</label>\n            <input\n              type=\"tel\"\n              class=\"card-input__input\"\n              v-number-only\n              :id=\"fields.cardCvv\"\n              maxlength=\"4\"\n              :value=\"formData.cardCvv\"\n              @input=\"changeCvv\"\n              data-card-field\n              autocomplete=\"off\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <button class=\"card-form__button\" v-on:click=\"invaildCard\">{{ $t('cardForm.submit') }}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Card from '@/components/Card'\nexport default {\n  name: 'CardForm',\n  directives: {\n    'number-only': {\n      bind (el) {\n        function checkValue (event) {\n          event.target.value = event.target.value.replace(/[^0-9]/g, '')\n          if (event.charCode >= 48 && event.charCode <= 57) {\n            return true\n          }\n          event.preventDefault()\n        }\n        el.addEventListener('keypress', checkValue)\n      }\n    },\n    'letter-only': {\n      bind (el) {\n        function checkValue (event) {\n          if (event.charCode >= 48 && event.charCode <= 57) {\n            event.preventDefault()\n          }\n          return true\n        }\n        el.addEventListener('keypress', checkValue)\n      }\n    }\n  },\n  props: {\n    formData: {\n      type: Object,\n      default: () => {\n        return {\n          cardName: '',\n          cardNumber: '',\n          cardNumberNotMask: '',\n          cardMonth: '',\n          cardYear: '',\n          cardCvv: ''\n        }\n      }\n    },\n    backgroundImage: [String, Object],\n    randomBackgrounds: {\n      type: Boolean,\n      default: true\n    }\n  },\n  components: {\n    Card\n  },\n  data () {\n    return {\n      fields: {\n        cardNumber: 'v-card-number',\n        cardName: 'v-card-name',\n        cardMonth: 'v-card-month',\n        cardYear: 'v-card-year',\n        cardCvv: 'v-card-cvv'\n      },\n      minCardYear: new Date().getFullYear(),\n      isCardNumberMasked: true,\n      mainCardNumber: this.cardNumber,\n      cardNumberMaxLength: 19\n    }\n  },\n  computed: {\n    minCardMonth () {\n      if (this.formData.cardYear === this.minCardYear) return new Date().getMonth() + 1\n      return 1\n    }\n  },\n  watch: {\n    cardYear () {\n      if (this.formData.cardMonth < this.minCardMonth) {\n        this.formData.cardMonth = ''\n      }\n    }\n  },\n  mounted () {\n    this.maskCardNumber()\n  },\n  methods: {\n    generateMonthValue (n) {\n      return n < 10 ? `0${n}` : n\n    },\n    changeName (e) {\n      this.formData.cardName = e.target.value\n      this.$emit('input-card-name', this.formData.cardName)\n    },\n    changeNumber (e) {\n      this.formData.cardNumber = e.target.value\n      let value = this.formData.cardNumber.replace(/\\D/g, '')\n      // american express, 15 digits\n      if ((/^3[47]\\d{0,13}$/).test(value)) {\n        this.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ')\n        this.cardNumberMaxLength = 17\n      } else if ((/^3(?:0[0-5]|[68]\\d)\\d{0,11}$/).test(value)) { // diner's club, 14 digits\n        this.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{6})/, '$1 $2 ')\n        this.cardNumberMaxLength = 16\n      } else if ((/^\\d{0,16}$/).test(value)) { // regular cc number, 16 digits\n        this.formData.cardNumber = value.replace(/(\\d{4})/, '$1 ').replace(/(\\d{4}) (\\d{4})/, '$1 $2 ').replace(/(\\d{4}) (\\d{4}) (\\d{4})/, '$1 $2 $3 ')\n        this.cardNumberMaxLength = 19\n      }\n      // eslint-disable-next-line eqeqeq\n      if (e.inputType == 'deleteContentBackward') {\n        let lastChar = this.formData.cardNumber.substring(this.formData.cardNumber.length, this.formData.cardNumber.length - 1)\n        // eslint-disable-next-line eqeqeq\n        if (lastChar == ' ') { this.formData.cardNumber = this.formData.cardNumber.substring(0, this.formData.cardNumber.length - 1) }\n      }\n      this.$emit('input-card-number', this.formData.cardNumber)\n    },\n    changeMonth () {\n      this.$emit('input-card-month', this.formData.cardMonth)\n    },\n    changeYear () {\n      this.$emit('input-card-year', this.formData.cardYear)\n    },\n    changeCvv (e) {\n      this.formData.cardCvv = e.target.value\n      this.$emit('input-card-cvv', this.formData.cardCvv)\n    },\n    invaildCard () {\n      let number = this.formData.cardNumberNotMask.replace(/ /g, '')\n      var sum = 0\n      for (var i = 0; i < number.length; i++) {\n        var intVal = parseInt(number.substr(i, 1))\n        if (i % 2 === 0) {\n          intVal *= 2\n          if (intVal > 9) {\n            intVal = 1 + (intVal % 10)\n          }\n        }\n        sum += intVal\n      }\n      if (sum % 10 !== 0) {\n        alert(this.$t('cardForm.invalidCardNumber'))\n      }\n    },\n    blurCardNumber () {\n      if (this.isCardNumberMasked) {\n        this.maskCardNumber()\n      }\n    },\n    maskCardNumber () {\n      this.formData.cardNumberNotMask = this.formData.cardNumber\n      this.mainCardNumber = this.formData.cardNumber\n      let arr = this.formData.cardNumber.split('')\n      arr.forEach((element, index) => {\n        if (index > 4 && index < 14 && element.trim() !== '') {\n          arr[index] = '*'\n        }\n      })\n      this.formData.cardNumber = arr.join('')\n    },\n    unMaskCardNumber () {\n      this.formData.cardNumber = this.mainCardNumber\n    },\n    focusCardNumber () {\n      this.unMaskCardNumber()\n    },\n    toggleMask () {\n      this.isCardNumberMasked = !this.isCardNumberMasked\n      if (this.isCardNumberMasked) {\n        this.maskCardNumber()\n      } else {\n        this.unMaskCardNumber()\n      }\n    }\n  }\n}\n</script>\n"]}]}